{"remainingRequest":"/home/md/Desktop/profile/node_modules/babel-loader/lib/index.js!/home/md/Desktop/profile/node_modules/vuetify/lib/components/VCalendar/mixins/calendar-with-events.js","dependencies":[{"path":"/home/md/Desktop/profile/node_modules/vuetify/lib/components/VCalendar/mixins/calendar-with-events.js","mtime":1573040736000},{"path":"/home/md/Desktop/profile/node_modules/cache-loader/dist/cjs.js","mtime":1573040736000},{"path":"/home/md/Desktop/profile/node_modules/babel-loader/lib/index.js","mtime":1573040736000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zb3J0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLm1heC1zYWZlLWludGVnZXIiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZGVmaW5lLXByb3BlcnRpZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZGVmaW5lLXByb3BlcnR5IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvaG9tZS9tZC9EZXNrdG9wL3Byb2ZpbGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczMvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwoKZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhzb3VyY2UsIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhzb3VyY2UpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9CgovLyBTdHlsZXMKaW1wb3J0ICIuLi8uLi8uLi8uLi9zcmMvY29tcG9uZW50cy9WQ2FsZW5kYXIvbWl4aW5zL2NhbGVuZGFyLXdpdGgtZXZlbnRzLnNhc3MiOyAvLyBEaXJlY3RpdmVzCgppbXBvcnQgcmlwcGxlIGZyb20gIi4uLy4uLy4uL2RpcmVjdGl2ZXMvcmlwcGxlIjsgLy8gTWl4aW5zCgppbXBvcnQgQ2FsZW5kYXJCYXNlIGZyb20gIi4vY2FsZW5kYXItYmFzZSI7IC8vIFV0aWwKCmltcG9ydCBwcm9wcyBmcm9tICIuLi91dGlsL3Byb3BzIjsKaW1wb3J0IHsgZ2V0RGF5SWRlbnRpZmllciwgcGFyc2VUaW1lIH0gZnJvbSAiLi4vdXRpbC90aW1lc3RhbXAiOwppbXBvcnQgeyBwYXJzZUV2ZW50LCBpc0V2ZW50T24gfSBmcm9tICIuLi91dGlsL2V2ZW50cyI7Ci8qIEB2dWUvY29tcG9uZW50ICovCgpleHBvcnQgZGVmYXVsdCBDYWxlbmRhckJhc2UuZXh0ZW5kKHsKICBuYW1lOiAnY2FsZW5kYXItd2l0aC1ldmVudHMnLAogIGRpcmVjdGl2ZXM6IHsKICAgIHJpcHBsZTogcmlwcGxlCiAgfSwKICBwcm9wczogcHJvcHMuZXZlbnRzLAogIGNvbXB1dGVkOiB7CiAgICBub0V2ZW50czogZnVuY3Rpb24gbm9FdmVudHMoKSB7CiAgICAgIHJldHVybiB0aGlzLmV2ZW50cy5sZW5ndGggPT09IDA7CiAgICB9LAogICAgcGFyc2VkRXZlbnRzOiBmdW5jdGlvbiBwYXJzZWRFdmVudHMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gdGhpcy5ldmVudHMubWFwKGZ1bmN0aW9uIChpbnB1dCwgaW5kZXgpIHsKICAgICAgICByZXR1cm4gcGFyc2VFdmVudChpbnB1dCwgaW5kZXgsIF90aGlzLmV2ZW50U3RhcnQsIF90aGlzLmV2ZW50RW5kKTsKICAgICAgfSk7CiAgICB9LAogICAgZXZlbnRDb2xvckZ1bmN0aW9uOiBmdW5jdGlvbiBldmVudENvbG9yRnVuY3Rpb24oKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIHR5cGVvZiB0aGlzLmV2ZW50Q29sb3IgPT09ICdmdW5jdGlvbicgPyB0aGlzLmV2ZW50Q29sb3IgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIF90aGlzMi5ldmVudENvbG9yOwogICAgICB9OwogICAgfSwKICAgIGV2ZW50VGV4dENvbG9yRnVuY3Rpb246IGZ1bmN0aW9uIGV2ZW50VGV4dENvbG9yRnVuY3Rpb24oKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIHR5cGVvZiB0aGlzLmV2ZW50VGV4dENvbG9yID09PSAnZnVuY3Rpb24nID8gdGhpcy5ldmVudFRleHRDb2xvciA6IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gX3RoaXMzLmV2ZW50VGV4dENvbG9yOwogICAgICB9OwogICAgfSwKICAgIGV2ZW50TmFtZUZ1bmN0aW9uOiBmdW5jdGlvbiBldmVudE5hbWVGdW5jdGlvbigpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICByZXR1cm4gdHlwZW9mIHRoaXMuZXZlbnROYW1lID09PSAnZnVuY3Rpb24nID8gdGhpcy5ldmVudE5hbWUgOiBmdW5jdGlvbiAoZXZlbnQsIHRpbWVkRXZlbnQpIHsKICAgICAgICB2YXIgbmFtZSA9IGV2ZW50LmlucHV0W190aGlzNC5ldmVudE5hbWVdOwoKICAgICAgICBpZiAoZXZlbnQuc3RhcnQuaGFzVGltZSkgewogICAgICAgICAgaWYgKHRpbWVkRXZlbnQpIHsKICAgICAgICAgICAgdmFyIHNob3dTdGFydCA9IGV2ZW50LnN0YXJ0LmhvdXIgPCAxMiAmJiBldmVudC5lbmQuaG91ciA+PSAxMjsKCiAgICAgICAgICAgIHZhciBzdGFydCA9IF90aGlzNC5mb3JtYXRUaW1lKGV2ZW50LnN0YXJ0LCBzaG93U3RhcnQpOwoKICAgICAgICAgICAgdmFyIGVuZCA9IF90aGlzNC5mb3JtYXRUaW1lKGV2ZW50LmVuZCwgdHJ1ZSk7CgogICAgICAgICAgICByZXR1cm4gIjxzdHJvbmc+Ii5jb25jYXQobmFtZSwgIjwvc3Ryb25nPjxicj4iKS5jb25jYXQoc3RhcnQsICIgLSAiKS5jb25jYXQoZW5kKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHZhciB0aW1lID0gX3RoaXM0LmZvcm1hdFRpbWUoZXZlbnQuc3RhcnQsIHRydWUpOwoKICAgICAgICAgICAgcmV0dXJuICI8c3Ryb25nPiIuY29uY2F0KHRpbWUsICI8L3N0cm9uZz4gIikuY29uY2F0KG5hbWUpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIG5hbWU7CiAgICAgIH07CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBmb3JtYXRUaW1lOiBmdW5jdGlvbiBmb3JtYXRUaW1lKHdpdGhUaW1lLCBhbXBtKSB7CiAgICAgIHZhciBzdWZmaXggPSBhbXBtID8gd2l0aFRpbWUuaG91ciA8IDEyID8gJ2EnIDogJ3AnIDogJyc7CiAgICAgIHZhciBob3VyID0gd2l0aFRpbWUuaG91ciAlIDEyIHx8IDEyOwogICAgICB2YXIgbWludXRlID0gd2l0aFRpbWUubWludXRlOwogICAgICByZXR1cm4gbWludXRlID4gMCA/IG1pbnV0ZSA8IDEwID8gIiIuY29uY2F0KGhvdXIsICI6MCIpLmNvbmNhdChtaW51dGUpLmNvbmNhdChzdWZmaXgpIDogIiIuY29uY2F0KGhvdXIsICI6IikuY29uY2F0KG1pbnV0ZSkuY29uY2F0KHN1ZmZpeCkgOiAiIi5jb25jYXQoaG91cikuY29uY2F0KHN1ZmZpeCk7CiAgICB9LAogICAgdXBkYXRlRXZlbnRWaXNpYmlsaXR5OiBmdW5jdGlvbiB1cGRhdGVFdmVudFZpc2liaWxpdHkoKSB7CiAgICAgIGlmICh0aGlzLm5vRXZlbnRzIHx8ICF0aGlzLmV2ZW50TW9yZSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIGV2ZW50SGVpZ2h0ID0gdGhpcy5ldmVudEhlaWdodDsKICAgICAgdmFyIGV2ZW50c01hcCA9IHRoaXMuZ2V0RXZlbnRzTWFwKCk7CgogICAgICBmb3IgKHZhciBkYXRlIGluIGV2ZW50c01hcCkgewogICAgICAgIHZhciBfZXZlbnRzTWFwJGRhdGUgPSBldmVudHNNYXBbZGF0ZV0sCiAgICAgICAgICAgIHBhcmVudCA9IF9ldmVudHNNYXAkZGF0ZS5wYXJlbnQsCiAgICAgICAgICAgIGV2ZW50cyA9IF9ldmVudHNNYXAkZGF0ZS5ldmVudHMsCiAgICAgICAgICAgIG1vcmUgPSBfZXZlbnRzTWFwJGRhdGUubW9yZTsKCiAgICAgICAgaWYgKCFtb3JlKSB7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CgogICAgICAgIHZhciBwYXJlbnRCb3VuZHMgPSBwYXJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgICAgdmFyIGxhc3QgPSBldmVudHMubGVuZ3RoIC0gMTsKICAgICAgICB2YXIgaGlkZSA9IGZhbHNlOwogICAgICAgIHZhciBoaWRkZW4gPSAwOwoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8PSBsYXN0OyBpKyspIHsKICAgICAgICAgIGlmICghaGlkZSkgewogICAgICAgICAgICB2YXIgZXZlbnRCb3VuZHMgPSBldmVudHNbaV0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgICAgICAgIGhpZGUgPSBldmVudEJvdW5kcy5ib3R0b20gKyBldmVudEhlaWdodCA+IHBhcmVudEJvdW5kcy5ib3R0b20gJiYgaSAhPT0gbGFzdCB8fCBldmVudHNbaV0uc3R5bGUuZGlzcGxheSA9PT0gJ25vbmUnOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChoaWRlKSB7CiAgICAgICAgICAgIHZhciBpZCA9IGV2ZW50c1tpXS5nZXRBdHRyaWJ1dGUoJ2RhdGEtZXZlbnQnKTsKICAgICAgICAgICAgdGhpcy5oaWRlRXZlbnRzKGlkKTsKICAgICAgICAgICAgaGlkZGVuKys7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAoaGlkZSkgewogICAgICAgICAgbW9yZS5zdHlsZS5kaXNwbGF5ID0gJyc7CiAgICAgICAgICBtb3JlLmlubmVySFRNTCA9IHRoaXMuJHZ1ZXRpZnkubGFuZy50KHRoaXMuZXZlbnRNb3JlVGV4dCwgaGlkZGVuKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgbW9yZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGhpZGVFdmVudHM6IGZ1bmN0aW9uIGhpZGVFdmVudHMoaWQpIHsKICAgICAgdmFyIGVsZW1lbnRzID0gdGhpcy4kcmVmcy5ldmVudHM7CiAgICAgIGVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgaWYgKGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1ldmVudCcpID09PSBpZCkgewogICAgICAgICAgZWwuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGdldEV2ZW50c01hcDogZnVuY3Rpb24gZ2V0RXZlbnRzTWFwKCkgewogICAgICB2YXIgZXZlbnRzTWFwID0ge307CiAgICAgIHZhciBlbGVtZW50cyA9IHRoaXMuJHJlZnMuZXZlbnRzOwoKICAgICAgaWYgKCFlbGVtZW50cyB8fCAhZWxlbWVudHMuZm9yRWFjaCkgewogICAgICAgIHJldHVybiBldmVudHNNYXA7CiAgICAgIH0KCiAgICAgIGVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgdmFyIGRhdGUgPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZGF0ZScpOwoKICAgICAgICBpZiAoZWwucGFyZW50RWxlbWVudCAmJiBkYXRlKSB7CiAgICAgICAgICBpZiAoIShkYXRlIGluIGV2ZW50c01hcCkpIHsKICAgICAgICAgICAgZXZlbnRzTWFwW2RhdGVdID0gewogICAgICAgICAgICAgIHBhcmVudDogZWwucGFyZW50RWxlbWVudCwKICAgICAgICAgICAgICBtb3JlOiBudWxsLAogICAgICAgICAgICAgIGV2ZW50czogW10KICAgICAgICAgICAgfTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoZWwuZ2V0QXR0cmlidXRlKCdkYXRhLW1vcmUnKSkgewogICAgICAgICAgICBldmVudHNNYXBbZGF0ZV0ubW9yZSA9IGVsOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZXZlbnRzTWFwW2RhdGVdLmV2ZW50cy5wdXNoKGVsKTsKICAgICAgICAgICAgZWwuc3R5bGUuZGlzcGxheSA9ICcnOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJldHVybiBldmVudHNNYXA7CiAgICB9LAogICAgZ2VuRGF5RXZlbnQ6IGZ1bmN0aW9uIGdlbkRheUV2ZW50KF9yZWYsIGluZGV4LCBkYXkpIHsKICAgICAgdmFyIG9mZnNldCA9IF9yZWYub2Zmc2V0LAogICAgICAgICAgZXZlbnQgPSBfcmVmLmV2ZW50OwogICAgICB2YXIgZXZlbnRIZWlnaHQgPSB0aGlzLmV2ZW50SGVpZ2h0OwogICAgICB2YXIgZXZlbnRNYXJnaW5Cb3R0b20gPSB0aGlzLmV2ZW50TWFyZ2luQm90dG9tOwogICAgICB2YXIgcmVsYXRpdmVPZmZzZXQgPSAob2Zmc2V0IC0gaW5kZXgpICogKGV2ZW50SGVpZ2h0ICsgZXZlbnRNYXJnaW5Cb3R0b20pOyAvLyAxID0gbWFyZ2luIGJvdHRvbQoKICAgICAgdmFyIGRheUlkZW50aWZpZXIgPSBnZXREYXlJZGVudGlmaWVyKGRheSk7CiAgICAgIHZhciBzdGFydCA9IGRheUlkZW50aWZpZXIgPT09IGV2ZW50LnN0YXJ0SWRlbnRpZmllcjsKICAgICAgdmFyIGVuZCA9IGRheUlkZW50aWZpZXIgPT09IGV2ZW50LmVuZElkZW50aWZpZXI7CiAgICAgIHZhciBzY29wZSA9IHsKICAgICAgICBldmVudDogZXZlbnQuaW5wdXQsCiAgICAgICAgZGF5OiBkYXksCiAgICAgICAgb3V0c2lkZTogZGF5Lm91dHNpZGUsCiAgICAgICAgc3RhcnQ6IHN0YXJ0LAogICAgICAgIGVuZDogZW5kLAogICAgICAgIHRpbWVkOiBmYWxzZQogICAgICB9OwogICAgICByZXR1cm4gdGhpcy5nZW5FdmVudChldmVudCwgc2NvcGUsIHN0YXJ0IHx8IGRheS5pbmRleCA9PT0gMCwgZmFsc2UsIHsKICAgICAgICBzdGF0aWNDbGFzczogJ3YtZXZlbnQnLAogICAgICAgICJjbGFzcyI6IHsKICAgICAgICAgICd2LWV2ZW50LXN0YXJ0Jzogc3RhcnQsCiAgICAgICAgICAndi1ldmVudC1lbmQnOiBlbmQKICAgICAgICB9LAogICAgICAgIHN0eWxlOiB7CiAgICAgICAgICBoZWlnaHQ6ICIiLmNvbmNhdChldmVudEhlaWdodCwgInB4IiksCiAgICAgICAgICB0b3A6ICIiLmNvbmNhdChyZWxhdGl2ZU9mZnNldCwgInB4IiksCiAgICAgICAgICAnbWFyZ2luLWJvdHRvbSc6ICIiLmNvbmNhdChldmVudE1hcmdpbkJvdHRvbSwgInB4IikKICAgICAgICB9LAogICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAnZGF0YS1kYXRlJzogZGF5LmRhdGUsCiAgICAgICAgICAnZGF0YS1ldmVudCc6IGV2ZW50LmluZGV4CiAgICAgICAgfSwKICAgICAgICBrZXk6IGV2ZW50LmluZGV4LAogICAgICAgIHJlZjogJ2V2ZW50cycsCiAgICAgICAgcmVmSW5Gb3I6IHRydWUKICAgICAgfSk7CiAgICB9LAogICAgZ2VuVGltZWRFdmVudDogZnVuY3Rpb24gZ2VuVGltZWRFdmVudChfcmVmMiwgaW5kZXgsIGRheSkgewogICAgICB2YXIgb2Zmc2V0ID0gX3JlZjIub2Zmc2V0LAogICAgICAgICAgZXZlbnQgPSBfcmVmMi5ldmVudCwKICAgICAgICAgIGNvbHVtbkNvdW50ID0gX3JlZjIuY29sdW1uQ291bnQsCiAgICAgICAgICBjb2x1bW4gPSBfcmVmMi5jb2x1bW47CiAgICAgIHZhciBkYXlJZGVudGlmaWVyID0gZ2V0RGF5SWRlbnRpZmllcihkYXkpOwogICAgICB2YXIgc3RhcnQgPSBldmVudC5zdGFydElkZW50aWZpZXIgPj0gZGF5SWRlbnRpZmllcjsKICAgICAgdmFyIGVuZCA9IGV2ZW50LmVuZElkZW50aWZpZXIgPiBkYXlJZGVudGlmaWVyOwogICAgICB2YXIgdG9wID0gc3RhcnQgPyBkYXkudGltZVRvWShldmVudC5zdGFydCkgOiAwOwogICAgICB2YXIgYm90dG9tID0gZW5kID8gZGF5LnRpbWVUb1koMTQ0MCkgOiBkYXkudGltZVRvWShldmVudC5lbmQpOwogICAgICB2YXIgaGVpZ2h0ID0gTWF0aC5tYXgodGhpcy5ldmVudEhlaWdodCwgYm90dG9tIC0gdG9wKTsKICAgICAgdmFyIGxlZnQgPSBjb2x1bW5Db3VudCA9PT0gLTEgPyBvZmZzZXQgKiA1IDogY29sdW1uICogMTAwIC8gY29sdW1uQ291bnQ7CiAgICAgIHZhciByaWdodCA9IGNvbHVtbkNvdW50ID09PSAtMSA/IDAgOiBNYXRoLm1heCgwLCAoY29sdW1uQ291bnQgLSBjb2x1bW4gLSAyKSAqIDEwMCAvIGNvbHVtbkNvdW50ICsgMTApOwogICAgICB2YXIgc2NvcGUgPSB7CiAgICAgICAgZXZlbnQ6IGV2ZW50LmlucHV0LAogICAgICAgIGRheTogZGF5LAogICAgICAgIG91dHNpZGU6IGRheS5vdXRzaWRlLAogICAgICAgIHN0YXJ0OiBzdGFydCwKICAgICAgICBlbmQ6IGVuZCwKICAgICAgICB0aW1lZDogdHJ1ZQogICAgICB9OwogICAgICByZXR1cm4gdGhpcy5nZW5FdmVudChldmVudCwgc2NvcGUsIHRydWUsIHRydWUsIHsKICAgICAgICBzdGF0aWNDbGFzczogJ3YtZXZlbnQtdGltZWQnLAogICAgICAgIHN0eWxlOiB7CiAgICAgICAgICB0b3A6ICIiLmNvbmNhdCh0b3AsICJweCIpLAogICAgICAgICAgaGVpZ2h0OiAiIi5jb25jYXQoaGVpZ2h0LCAicHgiKSwKICAgICAgICAgIGxlZnQ6ICIiLmNvbmNhdChsZWZ0LCAiJSIpLAogICAgICAgICAgcmlnaHQ6ICIiLmNvbmNhdChyaWdodCwgIiUiKQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZ2VuRXZlbnQ6IGZ1bmN0aW9uIGdlbkV2ZW50KGV2ZW50LCBzY29wZSwgc2hvd05hbWUsIHRpbWVkRXZlbnQsIGRhdGEpIHsKICAgICAgdmFyIHNsb3QgPSB0aGlzLiRzY29wZWRTbG90cy5ldmVudDsKICAgICAgdmFyIHRleHQgPSB0aGlzLmV2ZW50VGV4dENvbG9yRnVuY3Rpb24oZXZlbnQuaW5wdXQpOwogICAgICB2YXIgYmFja2dyb3VuZCA9IHRoaXMuZXZlbnRDb2xvckZ1bmN0aW9uKGV2ZW50LmlucHV0KTsKICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHRoaXMuc2V0VGV4dENvbG9yKHRleHQsIHRoaXMuc2V0QmFja2dyb3VuZENvbG9yKGJhY2tncm91bmQsIF9vYmplY3RTcHJlYWQoewogICAgICAgIG9uOiB0aGlzLmdldERlZmF1bHRNb3VzZUV2ZW50SGFuZGxlcnMoJzpldmVudCcsIGZ1bmN0aW9uIChuYXRpdmVFdmVudCkgewogICAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoe30sIHNjb3BlLCB7CiAgICAgICAgICAgIG5hdGl2ZUV2ZW50OiBuYXRpdmVFdmVudAogICAgICAgICAgfSk7CiAgICAgICAgfSksCiAgICAgICAgZGlyZWN0aXZlczogW3sKICAgICAgICAgIG5hbWU6ICdyaXBwbGUnLAogICAgICAgICAgdmFsdWU6IHRoaXMuZXZlbnRSaXBwbGUgIT0gbnVsbCA/IHRoaXMuZXZlbnRSaXBwbGUgOiB0cnVlCiAgICAgICAgfV0KICAgICAgfSwgZGF0YSkpKSwgc2xvdCA/IHNsb3Qoc2NvcGUpIDogc2hvd05hbWUgPyBbdGhpcy5nZW5OYW1lKGV2ZW50LCB0aW1lZEV2ZW50KV0gOiB1bmRlZmluZWQpOwogICAgfSwKICAgIGdlbk5hbWU6IGZ1bmN0aW9uIGdlbk5hbWUoZXZlbnQsIHRpbWVkRXZlbnQpIHsKICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHsKICAgICAgICBzdGF0aWNDbGFzczogJ3BsLTEnLAogICAgICAgIGRvbVByb3BzOiB7CiAgICAgICAgICBpbm5lckhUTUw6IHRoaXMuZXZlbnROYW1lRnVuY3Rpb24oZXZlbnQsIHRpbWVkRXZlbnQpCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBnZW5Nb3JlOiBmdW5jdGlvbiBnZW5Nb3JlKGRheSkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCdkaXYnLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LWV2ZW50LW1vcmUgcGwtMScsCiAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICdkYXRhLWRhdGUnOiBkYXkuZGF0ZSwKICAgICAgICAgICdkYXRhLW1vcmUnOiAxCiAgICAgICAgfSwKICAgICAgICBkaXJlY3RpdmVzOiBbewogICAgICAgICAgbmFtZTogJ3JpcHBsZScsCiAgICAgICAgICB2YWx1ZTogdGhpcy5ldmVudFJpcHBsZSAhPSBudWxsID8gdGhpcy5ldmVudFJpcHBsZSA6IHRydWUKICAgICAgICB9XSwKICAgICAgICBvbjogewogICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uIGNsaWNrKCkgewogICAgICAgICAgICByZXR1cm4gX3RoaXM1LiRlbWl0KCdjbGljazptb3JlJywgZGF5KTsKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHN0eWxlOiB7CiAgICAgICAgICBkaXNwbGF5OiAnbm9uZScKICAgICAgICB9LAogICAgICAgIHJlZjogJ2V2ZW50cycsCiAgICAgICAgcmVmSW5Gb3I6IHRydWUKICAgICAgfSk7CiAgICB9LAogICAgZ2V0RXZlbnRzRm9yRGF5OiBmdW5jdGlvbiBnZXRFdmVudHNGb3JEYXkoZGF5KSB7CiAgICAgIHZhciBpZGVudGlmaWVyID0gZ2V0RGF5SWRlbnRpZmllcihkYXkpOwogICAgICByZXR1cm4gdGhpcy5wYXJzZWRFdmVudHMuZmlsdGVyKGZ1bmN0aW9uIChldmVudCkgewogICAgICAgIHJldHVybiBpc0V2ZW50T24oZXZlbnQsIGlkZW50aWZpZXIpOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRFdmVudHNGb3JEYXlBbGw6IGZ1bmN0aW9uIGdldEV2ZW50c0ZvckRheUFsbChkYXkpIHsKICAgICAgdmFyIGlkZW50aWZpZXIgPSBnZXREYXlJZGVudGlmaWVyKGRheSk7CiAgICAgIHJldHVybiB0aGlzLnBhcnNlZEV2ZW50cy5maWx0ZXIoZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgcmV0dXJuIGV2ZW50LmFsbERheSAmJiBpc0V2ZW50T24oZXZlbnQsIGlkZW50aWZpZXIpOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRFdmVudHNGb3JEYXlUaW1lZDogZnVuY3Rpb24gZ2V0RXZlbnRzRm9yRGF5VGltZWQoZGF5KSB7CiAgICAgIHZhciBpZGVudGlmaWVyID0gZ2V0RGF5SWRlbnRpZmllcihkYXkpOwogICAgICByZXR1cm4gdGhpcy5wYXJzZWRFdmVudHMuZmlsdGVyKGZ1bmN0aW9uIChldmVudCkgewogICAgICAgIHJldHVybiAhZXZlbnQuYWxsRGF5ICYmIGlzRXZlbnRPbihldmVudCwgaWRlbnRpZmllcik7CiAgICAgIH0pOwogICAgfSwKICAgIGlzU2FtZUNvbHVtbjogZnVuY3Rpb24gaXNTYW1lQ29sdW1uKGEsIGIpIHsKICAgICAgdmFyIGFzdGFydCA9IHBhcnNlVGltZShhLmV2ZW50LnN0YXJ0KTsKICAgICAgdmFyIGJzdGFydCA9IHBhcnNlVGltZShiLmV2ZW50LnN0YXJ0KTsKICAgICAgdmFyIGRpZmYgPSBhc3RhcnQgLSBic3RhcnQ7CiAgICAgIHZhciBhYnMgPSBkaWZmIDwgMCA/IC1kaWZmIDogZGlmZjsKICAgICAgcmV0dXJuIGFicyA8IHRoaXMuZXZlbnRPdmVybGFwVGhyZXNob2xkOwogICAgfSwKICAgIGlzT3ZlcmxhcHBpbmc6IGZ1bmN0aW9uIGlzT3ZlcmxhcHBpbmcoYSwgYikgewogICAgICB2YXIgYXN0YXJ0ID0gcGFyc2VUaW1lKGEuZXZlbnQuc3RhcnQpOwogICAgICB2YXIgYnN0YXJ0ID0gcGFyc2VUaW1lKGIuZXZlbnQuc3RhcnQpOwoKICAgICAgaWYgKGEub2Zmc2V0IDwgYi5vZmZzZXQgJiYgYnN0YXJ0IDwgYXN0YXJ0KSB7CiAgICAgICAgdmFyIGFlbmQgPSBhc3RhcnQgKyB0aGlzLmV2ZW50T3ZlcmxhcFRocmVzaG9sZDsKICAgICAgICB2YXIgYmVuZCA9IHBhcnNlVGltZShiLmV2ZW50LmVuZCk7CiAgICAgICAgcmV0dXJuICEoYXN0YXJ0ID49IGJlbmQgfHwgYWVuZCA8PSBic3RhcnQpOwogICAgICB9CgogICAgICByZXR1cm4gZmFsc2U7CiAgICB9LAogICAgZ2V0U2NvcGVkU2xvdHM6IGZ1bmN0aW9uIGdldFNjb3BlZFNsb3RzKCkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIGlmICh0aGlzLm5vRXZlbnRzKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHNjb3BlZFNsb3RzOwogICAgICB9CiAgICAgIC8qKgogICAgICAgKiBPdmVyIHRoZSBzcGFuIG9mIGEgd2VlayAoZm9yIGV4YW1wbGUpIHdlIHdhbnQgdG8gbWFpbnRhaW4gYW4gZXZlbnQgaW4gdGhlIHNhbWUgcm93IChmb3Igd2Vla2x5IGFuZCBtb250aGx5IHZpZXdzKS4KICAgICAgICogV2Uga2VlcCB0cmFjayBvZiB0aG9zZSByb3dzIGJ5IGluZGV4VG9PZmZzZXQuIElmIHRoZSB2YWx1ZSBpbiB0aGF0IGFycmF5IGlzIC0xLCB0aGVuIHdlIGNhbiBwbGFjZSBhbiBldmVudCBhdCB0aGF0IHNwb3QuCiAgICAgICAqIEZvciBhIGRhaWx5IHZpZXcgd2l0aCB0aW1lZCBldmVudHMgd2UgYXJyYW5nZSB0aGVtIGJhc2VkIG9uIGNvbHVtbnMgYW5kIG9mZnNldHMuIElmIHR3byBvciBtb3JlIGV2ZW50cyBzdGFydCBhdCBhcm91bmQgdGhlCiAgICAgICAqIHNhbWUgdGltZSAoZXZlbnRPdmVybGFwVGhyZXNob2xkKSB0aGV5IGdvIGludG8gY29sdW1ucy4gSWYgb25lIGV2ZW50IHN0YXJ0cyBpbnNpZGUgYW5vdGhlciBpdCBpcyBpbmRlbnRlZCB0aGUgYXBwcm9wcmlhdGUgYW1vdW50LgogICAgICAgKiBJZiBvbmUgZXZlbnQgb3ZlcmxhcHMgYW5vdGhlciBhZnRlciB0aG9zZSBhZGp1c3RtZW50cyBhcmUgbWFkZSB0aG9zZSBldmVudHMgYXJlIHBsYWNlZCBpbiBjb2x1bW5zIHRvZ2V0aGVyIGluc3RlYWQgb2YgYW55IGRlZmluZWQKICAgICAgICogaW5kZW50cy4KICAgICAgICovCgoKICAgICAgdmFyIHBhcnNlZEV2ZW50cyA9IHRoaXMucGFyc2VkRXZlbnRzOwogICAgICB2YXIgaW5kZXhUb09mZnNldCA9IHBhcnNlZEV2ZW50cy5tYXAoZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgcmV0dXJuIC0xOwogICAgICB9KTsKICAgICAgdmFyIHJlc2V0T25XZWVrZGF5ID0gdGhpcy53ZWVrZGF5c1swXTsKCiAgICAgIHZhciBjaGVja1Jlc2V0ID0gZnVuY3Rpb24gY2hlY2tSZXNldChkYXkpIHsKICAgICAgICBpZiAoZGF5LndlZWtkYXkgPT09IHJlc2V0T25XZWVrZGF5KSB7CiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGluZGV4VG9PZmZzZXQubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaW5kZXhUb09mZnNldFtpXSA9IC0xOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfTsKCiAgICAgIHZhciBnZXRPZmZzZXQgPSBmdW5jdGlvbiBnZXRPZmZzZXQodmlzdWFsLCB2aXN1YWxzKSB7CiAgICAgICAgdmFyIG9mZnNldCA9IGluZGV4VG9PZmZzZXRbdmlzdWFsLmV2ZW50LmluZGV4XTsKCiAgICAgICAgaWYgKG9mZnNldCA9PT0gLTEpIHsKICAgICAgICAgIHZhciBtaW4gPSBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUjsKICAgICAgICAgIHZhciBtYXggPSAtMTsKICAgICAgICAgIHZpc3VhbHMuZm9yRWFjaChmdW5jdGlvbiAob3RoZXIpIHsKICAgICAgICAgICAgdmFyIG90aGVyT2Zmc2V0ID0gaW5kZXhUb09mZnNldFtvdGhlci5ldmVudC5pbmRleF07CgogICAgICAgICAgICBpZiAob3RoZXJPZmZzZXQgIT09IC0xKSB7CiAgICAgICAgICAgICAgbWluID0gTWF0aC5taW4obWluLCBvdGhlck9mZnNldCk7CiAgICAgICAgICAgICAgbWF4ID0gTWF0aC5tYXgobWF4LCBvdGhlck9mZnNldCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgICAgb2Zmc2V0ID0gbWluID4gMCAmJiBtYXggIT09IC0xID8gbWluIC0gMSA6IG1heCArIDE7CiAgICAgICAgICBpbmRleFRvT2Zmc2V0W3Zpc3VhbC5ldmVudC5pbmRleF0gPSBvZmZzZXQ7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gb2Zmc2V0OwogICAgICB9OwoKICAgICAgdmFyIGdldFZpc3VhbHMgPSBmdW5jdGlvbiBnZXRWaXN1YWxzKGV2ZW50cywgdGltZWQpIHsKICAgICAgICB2YXIgdmlzdWFscyA9IGV2ZW50cy5tYXAoZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICBldmVudDogZXZlbnQsCiAgICAgICAgICAgIG9mZnNldDogMCwKICAgICAgICAgICAgY29sdW1uQ291bnQ6IC0xLAogICAgICAgICAgICBjb2x1bW46IC0xCiAgICAgICAgICB9OwogICAgICAgIH0pOyAvLyBzb3J0IGV2ZW50cyBieSBzdGFydCBkYXRlL3RpbWUKCiAgICAgICAgdmlzdWFscy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgICByZXR1cm4gYS5ldmVudC5zdGFydFRpbWVzdGFtcElkZW50aWZpZXIgLSBiLmV2ZW50LnN0YXJ0VGltZXN0YW1wSWRlbnRpZmllcjsKICAgICAgICB9KTsKCiAgICAgICAgaWYgKHRpbWVkKSB7CiAgICAgICAgICAvLyB0aW1lZCBldmVudHMgY2FuIGJlIG9yZ2FuaXplZCBpbnRvIGNvbHVtbnMKICAgICAgICAgIHZpc3VhbHMuZm9yRWFjaChmdW5jdGlvbiAodmlzdWFsKSB7CiAgICAgICAgICAgIGlmICh2aXN1YWwuY29sdW1uQ291bnQgIT09IC0xKSB7CiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICB2YXIgY29sdW1ucyA9IFtdOwogICAgICAgICAgICB2aXN1YWxzLmZvckVhY2goZnVuY3Rpb24gKG90aGVyKSB7CiAgICAgICAgICAgICAgaWYgKG90aGVyLmNvbHVtbkNvdW50ID09PSAtMSAmJiBfdGhpczYuaXNTYW1lQ29sdW1uKHZpc3VhbCwgb3RoZXIpKSB7CiAgICAgICAgICAgICAgICBjb2x1bW5zLnB1c2gob3RoZXIpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBpZiAoY29sdW1ucy5sZW5ndGggPiAxKSB7CiAgICAgICAgICAgICAgY29sdW1ucy5mb3JFYWNoKGZ1bmN0aW9uICh2aXN1YWwsIHZpc3VhbEluZGV4KSB7CiAgICAgICAgICAgICAgICB2aXN1YWwuY29sdW1uID0gdmlzdWFsSW5kZXg7CiAgICAgICAgICAgICAgICB2aXN1YWwuY29sdW1uQ291bnQgPSBjb2x1bW5zLmxlbmd0aDsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7IC8vIGZvciBhbnkgbm90IG9yZ2FuaXplZCBpbnRvIGNvbHVtbnMsIGlmIHRoZXkgb3ZlcmxhcCBhbm90aGVyIGV2ZW50CiAgICAgICAgICAvLyBub3QgaW4gYSBjb2x1bW4gdGhleSBhcmUgb2Zmc2V0CgogICAgICAgICAgdmlzdWFscy5mb3JFYWNoKGZ1bmN0aW9uICh2aXN1YWwpIHsKICAgICAgICAgICAgaWYgKHZpc3VhbC5jb2x1bW5Db3VudCA9PT0gLTEpIHsKICAgICAgICAgICAgICB2aXN1YWxzLmZvckVhY2goZnVuY3Rpb24gKG90aGVyKSB7CiAgICAgICAgICAgICAgICB2YXIgb3RoZXJPZmZzZXQgPSBpbmRleFRvT2Zmc2V0W290aGVyLmV2ZW50LmluZGV4XTsKCiAgICAgICAgICAgICAgICBpZiAob3RoZXJPZmZzZXQgIT09IC0xICYmIG90aGVyLmV2ZW50LmVuZFRpbWVzdGFtcElkZW50aWZpZXIgPD0gdmlzdWFsLmV2ZW50LnN0YXJ0VGltZXN0YW1wSWRlbnRpZmllcikgewogICAgICAgICAgICAgICAgICBpbmRleFRvT2Zmc2V0W290aGVyLmV2ZW50LmluZGV4XSA9IC0xOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIHZpc3VhbC5vZmZzZXQgPSBnZXRPZmZzZXQodmlzdWFsLCB2aXN1YWxzKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7IC8vIGZvciBhbnkgbm90IG9yZ2FuaXplZCBpbnRvIGNvbHVtbnMsIGlmIGEgcHJldmlvdXMgZXZlbnQgb3ZlcmxhcHMgdGhpcyBldmVudAogICAgICAgICAgLy8gam9pbiB0aGVtIGludG8gdGhlIGNvbHVtbnMKCiAgICAgICAgICB2aXN1YWxzLmZvckVhY2goZnVuY3Rpb24gKHZpc3VhbCkgewogICAgICAgICAgICBpZiAodmlzdWFsLmNvbHVtbkNvdW50ID09PSAtMSkgewogICAgICAgICAgICAgIHZhciBjb2x1bW5zID0gW3Zpc3VhbF07CiAgICAgICAgICAgICAgdmlzdWFscy5mb3JFYWNoKGZ1bmN0aW9uIChvdGhlcikgewogICAgICAgICAgICAgICAgaWYgKG90aGVyICE9PSB2aXN1YWwgJiYgb3RoZXIuY29sdW1uQ291bnQgPT09IC0xICYmIF90aGlzNi5pc092ZXJsYXBwaW5nKHZpc3VhbCwgb3RoZXIpKSB7CiAgICAgICAgICAgICAgICAgIGNvbHVtbnMucHVzaChvdGhlcik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGlmIChjb2x1bW5zLmxlbmd0aCA+IDEpIHsKICAgICAgICAgICAgICAgIGNvbHVtbnMuZm9yRWFjaChmdW5jdGlvbiAodmlzdWFsLCB2aXN1YWxJbmRleCkgewogICAgICAgICAgICAgICAgICB2aXN1YWwuY29sdW1uID0gdmlzdWFsSW5kZXg7CiAgICAgICAgICAgICAgICAgIHZpc3VhbC5jb2x1bW5Db3VudCA9IGNvbHVtbnMubGVuZ3RoOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdmlzdWFscy5mb3JFYWNoKGZ1bmN0aW9uICh2aXN1YWwpIHsKICAgICAgICAgICAgdmlzdWFsLm9mZnNldCA9IGdldE9mZnNldCh2aXN1YWwsIHZpc3VhbHMpOwogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICB2aXN1YWxzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICAgIHJldHVybiBhLm9mZnNldCAtIGIub2Zmc2V0IHx8IGEuY29sdW1uIC0gYi5jb2x1bW47CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHZpc3VhbHM7CiAgICAgIH07CgogICAgICB2YXIgZ2V0U2xvdENoaWxkcmVuID0gZnVuY3Rpb24gZ2V0U2xvdENoaWxkcmVuKGRheSwgZ2V0dGVyLCBtYXBwZXIsIHRpbWVkKSB7CiAgICAgICAgY2hlY2tSZXNldChkYXkpOwogICAgICAgIHZhciBldmVudHMgPSBnZXR0ZXIoZGF5KTsKICAgICAgICByZXR1cm4gZXZlbnRzLmxlbmd0aCA9PT0gMCA/IHVuZGVmaW5lZCA6IGdldFZpc3VhbHMoZXZlbnRzLCB0aW1lZCkubWFwKGZ1bmN0aW9uICh2aXN1YWwsIGluZGV4KSB7CiAgICAgICAgICByZXR1cm4gbWFwcGVyKHZpc3VhbCwgaW5kZXgsIGRheSk7CiAgICAgICAgfSk7CiAgICAgIH07CgogICAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7fSwgdGhpcy4kc2NvcGVkU2xvdHMsIHsKICAgICAgICBkYXk6IGZ1bmN0aW9uIGRheShfZGF5KSB7CiAgICAgICAgICB2YXIgY2hpbGRyZW4gPSBnZXRTbG90Q2hpbGRyZW4oX2RheSwgX3RoaXM2LmdldEV2ZW50c0ZvckRheSwgX3RoaXM2LmdlbkRheUV2ZW50LCBmYWxzZSk7CgogICAgICAgICAgaWYgKGNoaWxkcmVuICYmIGNoaWxkcmVuLmxlbmd0aCA+IDAgJiYgX3RoaXM2LmV2ZW50TW9yZSkgewogICAgICAgICAgICBjaGlsZHJlbi5wdXNoKF90aGlzNi5nZW5Nb3JlKF9kYXkpKTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gY2hpbGRyZW47CiAgICAgICAgfSwKICAgICAgICAnZGF5LWhlYWRlcic6IGZ1bmN0aW9uIGRheUhlYWRlcihkYXkpIHsKICAgICAgICAgIHJldHVybiBnZXRTbG90Q2hpbGRyZW4oZGF5LCBfdGhpczYuZ2V0RXZlbnRzRm9yRGF5QWxsLCBfdGhpczYuZ2VuRGF5RXZlbnQsIGZhbHNlKTsKICAgICAgICB9LAogICAgICAgICdkYXktYm9keSc6IGZ1bmN0aW9uIGRheUJvZHkoZGF5KSB7CiAgICAgICAgICByZXR1cm4gW190aGlzNi4kY3JlYXRlRWxlbWVudCgnZGl2JywgewogICAgICAgICAgICBzdGF0aWNDbGFzczogJ3YtZXZlbnQtdGltZWQtY29udGFpbmVyJwogICAgICAgICAgfSwgZ2V0U2xvdENoaWxkcmVuKGRheSwgX3RoaXM2LmdldEV2ZW50c0ZvckRheVRpbWVkLCBfdGhpczYuZ2VuVGltZWRFdmVudCwgdHJ1ZSkpXTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfSk7"},{"version":3,"sources":["/home/md/Desktop/profile/node_modules/vuetify/lib/components/VCalendar/mixins/calendar-with-events.js"],"names":["ripple","CalendarBase","props","getDayIdentifier","parseTime","parseEvent","isEventOn","extend","name","directives","events","computed","noEvents","length","parsedEvents","map","input","index","eventStart","eventEnd","eventColorFunction","eventColor","eventTextColorFunction","eventTextColor","eventNameFunction","eventName","event","timedEvent","start","hasTime","showStart","hour","end","formatTime","time","methods","withTime","ampm","suffix","minute","updateEventVisibility","eventMore","eventHeight","eventsMap","getEventsMap","date","parent","more","parentBounds","getBoundingClientRect","last","hide","hidden","i","eventBounds","bottom","style","display","id","getAttribute","hideEvents","innerHTML","$vuetify","lang","t","eventMoreText","elements","$refs","forEach","el","parentElement","push","genDayEvent","day","offset","eventMarginBottom","relativeOffset","dayIdentifier","startIdentifier","endIdentifier","scope","outside","timed","genEvent","staticClass","height","top","attrs","key","ref","refInFor","genTimedEvent","columnCount","column","timeToY","Math","max","left","right","showName","data","slot","$scopedSlots","text","background","$createElement","setTextColor","setBackgroundColor","on","getDefaultMouseEventHandlers","nativeEvent","value","eventRipple","genName","undefined","domProps","genMore","click","$emit","getEventsForDay","identifier","filter","getEventsForDayAll","allDay","getEventsForDayTimed","isSameColumn","a","b","astart","bstart","diff","abs","eventOverlapThreshold","isOverlapping","aend","bend","getScopedSlots","indexToOffset","resetOnWeekday","weekdays","checkReset","weekday","getOffset","visual","visuals","min","Number","MAX_SAFE_INTEGER","other","otherOffset","getVisuals","sort","startTimestampIdentifier","columns","visualIndex","endTimestampIdentifier","getSlotChildren","getter","mapper","children"],"mappings":"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","sourcesContent":["// Styles\nimport \"../../../../src/components/VCalendar/mixins/calendar-with-events.sass\"; // Directives\n\nimport ripple from '../../../directives/ripple'; // Mixins\n\nimport CalendarBase from './calendar-base'; // Util\n\nimport props from '../util/props';\nimport { getDayIdentifier, parseTime } from '../util/timestamp';\nimport { parseEvent, isEventOn } from '../util/events';\n/* @vue/component */\n\nexport default CalendarBase.extend({\n  name: 'calendar-with-events',\n  directives: {\n    ripple\n  },\n  props: props.events,\n  computed: {\n    noEvents() {\n      return this.events.length === 0;\n    },\n\n    parsedEvents() {\n      return this.events.map((input, index) => parseEvent(input, index, this.eventStart, this.eventEnd));\n    },\n\n    eventColorFunction() {\n      return typeof this.eventColor === 'function' ? this.eventColor : () => this.eventColor;\n    },\n\n    eventTextColorFunction() {\n      return typeof this.eventTextColor === 'function' ? this.eventTextColor : () => this.eventTextColor;\n    },\n\n    eventNameFunction() {\n      return typeof this.eventName === 'function' ? this.eventName : (event, timedEvent) => {\n        const name = event.input[this.eventName];\n\n        if (event.start.hasTime) {\n          if (timedEvent) {\n            const showStart = event.start.hour < 12 && event.end.hour >= 12;\n            const start = this.formatTime(event.start, showStart);\n            const end = this.formatTime(event.end, true);\n            return `<strong>${name}</strong><br>${start} - ${end}`;\n          } else {\n            const time = this.formatTime(event.start, true);\n            return `<strong>${time}</strong> ${name}`;\n          }\n        }\n\n        return name;\n      };\n    }\n\n  },\n  methods: {\n    formatTime(withTime, ampm) {\n      const suffix = ampm ? withTime.hour < 12 ? 'a' : 'p' : '';\n      const hour = withTime.hour % 12 || 12;\n      const minute = withTime.minute;\n      return minute > 0 ? minute < 10 ? `${hour}:0${minute}${suffix}` : `${hour}:${minute}${suffix}` : `${hour}${suffix}`;\n    },\n\n    updateEventVisibility() {\n      if (this.noEvents || !this.eventMore) {\n        return;\n      }\n\n      const eventHeight = this.eventHeight;\n      const eventsMap = this.getEventsMap();\n\n      for (const date in eventsMap) {\n        const {\n          parent,\n          events,\n          more\n        } = eventsMap[date];\n\n        if (!more) {\n          break;\n        }\n\n        const parentBounds = parent.getBoundingClientRect();\n        const last = events.length - 1;\n        let hide = false;\n        let hidden = 0;\n\n        for (let i = 0; i <= last; i++) {\n          if (!hide) {\n            const eventBounds = events[i].getBoundingClientRect();\n            hide = eventBounds.bottom + eventHeight > parentBounds.bottom && i !== last || events[i].style.display === 'none';\n          }\n\n          if (hide) {\n            const id = events[i].getAttribute('data-event');\n            this.hideEvents(id);\n            hidden++;\n          }\n        }\n\n        if (hide) {\n          more.style.display = '';\n          more.innerHTML = this.$vuetify.lang.t(this.eventMoreText, hidden);\n        } else {\n          more.style.display = 'none';\n        }\n      }\n    },\n\n    hideEvents(id) {\n      const elements = this.$refs.events;\n      elements.forEach(el => {\n        if (el.getAttribute('data-event') === id) {\n          el.style.display = 'none';\n        }\n      });\n    },\n\n    getEventsMap() {\n      const eventsMap = {};\n      const elements = this.$refs.events;\n\n      if (!elements || !elements.forEach) {\n        return eventsMap;\n      }\n\n      elements.forEach(el => {\n        const date = el.getAttribute('data-date');\n\n        if (el.parentElement && date) {\n          if (!(date in eventsMap)) {\n            eventsMap[date] = {\n              parent: el.parentElement,\n              more: null,\n              events: []\n            };\n          }\n\n          if (el.getAttribute('data-more')) {\n            eventsMap[date].more = el;\n          } else {\n            eventsMap[date].events.push(el);\n            el.style.display = '';\n          }\n        }\n      });\n      return eventsMap;\n    },\n\n    genDayEvent({\n      offset,\n      event\n    }, index, day) {\n      const eventHeight = this.eventHeight;\n      const eventMarginBottom = this.eventMarginBottom;\n      const relativeOffset = (offset - index) * (eventHeight + eventMarginBottom); // 1 = margin bottom\n\n      const dayIdentifier = getDayIdentifier(day);\n      const start = dayIdentifier === event.startIdentifier;\n      const end = dayIdentifier === event.endIdentifier;\n      const scope = {\n        event: event.input,\n        day,\n        outside: day.outside,\n        start,\n        end,\n        timed: false\n      };\n      return this.genEvent(event, scope, start || day.index === 0, false, {\n        staticClass: 'v-event',\n        class: {\n          'v-event-start': start,\n          'v-event-end': end\n        },\n        style: {\n          height: `${eventHeight}px`,\n          top: `${relativeOffset}px`,\n          'margin-bottom': `${eventMarginBottom}px`\n        },\n        attrs: {\n          'data-date': day.date,\n          'data-event': event.index\n        },\n        key: event.index,\n        ref: 'events',\n        refInFor: true\n      });\n    },\n\n    genTimedEvent({\n      offset,\n      event,\n      columnCount,\n      column\n    }, index, day) {\n      const dayIdentifier = getDayIdentifier(day);\n      const start = event.startIdentifier >= dayIdentifier;\n      const end = event.endIdentifier > dayIdentifier;\n      const top = start ? day.timeToY(event.start) : 0;\n      const bottom = end ? day.timeToY(1440) : day.timeToY(event.end);\n      const height = Math.max(this.eventHeight, bottom - top);\n      const left = columnCount === -1 ? offset * 5 : column * 100 / columnCount;\n      const right = columnCount === -1 ? 0 : Math.max(0, (columnCount - column - 2) * 100 / columnCount + 10);\n      const scope = {\n        event: event.input,\n        day,\n        outside: day.outside,\n        start,\n        end,\n        timed: true\n      };\n      return this.genEvent(event, scope, true, true, {\n        staticClass: 'v-event-timed',\n        style: {\n          top: `${top}px`,\n          height: `${height}px`,\n          left: `${left}%`,\n          right: `${right}%`\n        }\n      });\n    },\n\n    genEvent(event, scope, showName, timedEvent, data) {\n      const slot = this.$scopedSlots.event;\n      const text = this.eventTextColorFunction(event.input);\n      const background = this.eventColorFunction(event.input);\n      return this.$createElement('div', this.setTextColor(text, this.setBackgroundColor(background, {\n        on: this.getDefaultMouseEventHandlers(':event', nativeEvent => ({ ...scope,\n          nativeEvent\n        })),\n        directives: [{\n          name: 'ripple',\n          value: this.eventRipple != null ? this.eventRipple : true\n        }],\n        ...data\n      })), slot ? slot(scope) : showName ? [this.genName(event, timedEvent)] : undefined);\n    },\n\n    genName(event, timedEvent) {\n      return this.$createElement('div', {\n        staticClass: 'pl-1',\n        domProps: {\n          innerHTML: this.eventNameFunction(event, timedEvent)\n        }\n      });\n    },\n\n    genMore(day) {\n      return this.$createElement('div', {\n        staticClass: 'v-event-more pl-1',\n        attrs: {\n          'data-date': day.date,\n          'data-more': 1\n        },\n        directives: [{\n          name: 'ripple',\n          value: this.eventRipple != null ? this.eventRipple : true\n        }],\n        on: {\n          click: () => this.$emit('click:more', day)\n        },\n        style: {\n          display: 'none'\n        },\n        ref: 'events',\n        refInFor: true\n      });\n    },\n\n    getEventsForDay(day) {\n      const identifier = getDayIdentifier(day);\n      return this.parsedEvents.filter(event => isEventOn(event, identifier));\n    },\n\n    getEventsForDayAll(day) {\n      const identifier = getDayIdentifier(day);\n      return this.parsedEvents.filter(event => event.allDay && isEventOn(event, identifier));\n    },\n\n    getEventsForDayTimed(day) {\n      const identifier = getDayIdentifier(day);\n      return this.parsedEvents.filter(event => !event.allDay && isEventOn(event, identifier));\n    },\n\n    isSameColumn(a, b) {\n      const astart = parseTime(a.event.start);\n      const bstart = parseTime(b.event.start);\n      const diff = astart - bstart;\n      const abs = diff < 0 ? -diff : diff;\n      return abs < this.eventOverlapThreshold;\n    },\n\n    isOverlapping(a, b) {\n      const astart = parseTime(a.event.start);\n      const bstart = parseTime(b.event.start);\n\n      if (a.offset < b.offset && bstart < astart) {\n        const aend = astart + this.eventOverlapThreshold;\n        const bend = parseTime(b.event.end);\n        return !(astart >= bend || aend <= bstart);\n      }\n\n      return false;\n    },\n\n    getScopedSlots() {\n      if (this.noEvents) {\n        return this.$scopedSlots;\n      }\n      /**\n       * Over the span of a week (for example) we want to maintain an event in the same row (for weekly and monthly views).\n       * We keep track of those rows by indexToOffset. If the value in that array is -1, then we can place an event at that spot.\n       * For a daily view with timed events we arrange them based on columns and offsets. If two or more events start at around the\n       * same time (eventOverlapThreshold) they go into columns. If one event starts inside another it is indented the appropriate amount.\n       * If one event overlaps another after those adjustments are made those events are placed in columns together instead of any defined\n       * indents.\n       */\n\n\n      const parsedEvents = this.parsedEvents;\n      const indexToOffset = parsedEvents.map(event => -1);\n      const resetOnWeekday = this.weekdays[0];\n\n      const checkReset = day => {\n        if (day.weekday === resetOnWeekday) {\n          for (let i = 0; i < indexToOffset.length; i++) {\n            indexToOffset[i] = -1;\n          }\n        }\n      };\n\n      const getOffset = (visual, visuals) => {\n        let offset = indexToOffset[visual.event.index];\n\n        if (offset === -1) {\n          let min = Number.MAX_SAFE_INTEGER;\n          let max = -1;\n          visuals.forEach(other => {\n            const otherOffset = indexToOffset[other.event.index];\n\n            if (otherOffset !== -1) {\n              min = Math.min(min, otherOffset);\n              max = Math.max(max, otherOffset);\n            }\n          });\n          offset = min > 0 && max !== -1 ? min - 1 : max + 1;\n          indexToOffset[visual.event.index] = offset;\n        }\n\n        return offset;\n      };\n\n      const getVisuals = (events, timed) => {\n        const visuals = events.map(event => ({\n          event,\n          offset: 0,\n          columnCount: -1,\n          column: -1\n        })); // sort events by start date/time\n\n        visuals.sort((a, b) => a.event.startTimestampIdentifier - b.event.startTimestampIdentifier);\n\n        if (timed) {\n          // timed events can be organized into columns\n          visuals.forEach(visual => {\n            if (visual.columnCount !== -1) {\n              return;\n            }\n\n            const columns = [];\n            visuals.forEach(other => {\n              if (other.columnCount === -1 && this.isSameColumn(visual, other)) {\n                columns.push(other);\n              }\n            });\n\n            if (columns.length > 1) {\n              columns.forEach((visual, visualIndex) => {\n                visual.column = visualIndex;\n                visual.columnCount = columns.length;\n              });\n            }\n          }); // for any not organized into columns, if they overlap another event\n          // not in a column they are offset\n\n          visuals.forEach(visual => {\n            if (visual.columnCount === -1) {\n              visuals.forEach(other => {\n                const otherOffset = indexToOffset[other.event.index];\n\n                if (otherOffset !== -1 && other.event.endTimestampIdentifier <= visual.event.startTimestampIdentifier) {\n                  indexToOffset[other.event.index] = -1;\n                }\n              });\n              visual.offset = getOffset(visual, visuals);\n            }\n          }); // for any not organized into columns, if a previous event overlaps this event\n          // join them into the columns\n\n          visuals.forEach(visual => {\n            if (visual.columnCount === -1) {\n              const columns = [visual];\n              visuals.forEach(other => {\n                if (other !== visual && other.columnCount === -1 && this.isOverlapping(visual, other)) {\n                  columns.push(other);\n                }\n              });\n\n              if (columns.length > 1) {\n                columns.forEach((visual, visualIndex) => {\n                  visual.column = visualIndex;\n                  visual.columnCount = columns.length;\n                });\n              }\n            }\n          });\n        } else {\n          visuals.forEach(visual => {\n            visual.offset = getOffset(visual, visuals);\n          });\n        }\n\n        visuals.sort((a, b) => a.offset - b.offset || a.column - b.column);\n        return visuals;\n      };\n\n      const getSlotChildren = (day, getter, mapper, timed) => {\n        checkReset(day);\n        const events = getter(day);\n        return events.length === 0 ? undefined : getVisuals(events, timed).map((visual, index) => mapper(visual, index, day));\n      };\n\n      return { ...this.$scopedSlots,\n        day: day => {\n          const children = getSlotChildren(day, this.getEventsForDay, this.genDayEvent, false);\n\n          if (children && children.length > 0 && this.eventMore) {\n            children.push(this.genMore(day));\n          }\n\n          return children;\n        },\n        'day-header': day => {\n          return getSlotChildren(day, this.getEventsForDayAll, this.genDayEvent, false);\n        },\n        'day-body': day => {\n          return [this.$createElement('div', {\n            staticClass: 'v-event-timed-container'\n          }, getSlotChildren(day, this.getEventsForDayTimed, this.genTimedEvent, true))];\n        }\n      };\n    }\n\n  }\n});\n//# sourceMappingURL=calendar-with-events.js.map"]}]}